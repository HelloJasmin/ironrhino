<?xml version="1.0"?>
<Configuration>
	<Appenders>
		<Console name="CONSOLE" target="SYSTEM_OUT">
			<ThresholdFilter level="${sys:console.logger.level}"/>
			<PatternLayout pattern="%d %c %p %m%n"/>
		</Console>
		<RollingRandomAccessFile name="APPLICATION" fileName="${sys:app.home}/logs/application.log" filePattern="${sys:app.home}/logs/application.log.%d{yyyy-MM-dd}">
			<PatternLayout pattern="%d %c %t%X{session}%X{request}%X{url} %p %m%n" charset="UTF-8"/>
			<TimeBasedTriggeringPolicy />
		</RollingRandomAccessFile>
		<RollingRandomAccessFile name="ERROR" fileName="${sys:app.home}/logs/application-error.log" filePattern="${sys:app.home}/logs/application-error.log.%d{yyyy-MM-dd}">
			<ThresholdFilter level="ERROR"/>
			<PatternLayout pattern="%d %c %t%X{session}%X{request}%X{url} %p %m%n" charset="UTF-8"/>
			<TimeBasedTriggeringPolicy />
		</RollingRandomAccessFile>
		<RollingRandomAccessFile name="HIBERNATE" fileName="${sys:app.home}/logs/hibernate.log" filePattern="${sys:app.home}/logs/hibernate.log.%d{yyyy-MM-dd}">
			<ThresholdFilter level="ALL"/>
			<PatternLayout pattern="%d %c %p %m%n" charset="UTF-8"/>
			<TimeBasedTriggeringPolicy />
		</RollingRandomAccessFile>
		<RollingRandomAccessFile name="REMOTING" fileName="${sys:app.home}/logs/remoting.log" filePattern="${sys:app.home}/logs/remoting.log.%d{yyyy-MM-dd}">
			<PatternLayout pattern="%d %c %p %m%n" charset="UTF-8"/>
			<TimeBasedTriggeringPolicy />
		</RollingRandomAccessFile>
		<RollingRandomAccessFile name="REST" fileName="${sys:app.home}/logs/rest.log" filePattern="${sys:app.home}/logs/rest.log.%d{yyyy-MM-dd}">
			<PatternLayout pattern="%d %t%X{request} %X{method}%X{url} %m%n" charset="UTF-8"/>
			<TimeBasedTriggeringPolicy />
		</RollingRandomAccessFile>
		<RollingRandomAccessFile name="ACCESS" fileName="${sys:app.home}/logs/access.log" filePattern="${sys:app.home}/logs/access.log.%d{yyyy-MM-dd}">
			<PatternLayout pattern="%d%X{username}@%X{remoteAddr} %X{method}%X{url}%X{userAgent}%X{referer}%X{session}%X{request}%n" charset="UTF-8"/>
			<TimeBasedTriggeringPolicy />
		</RollingRandomAccessFile>
		<RollingRandomAccessFile name="ACCESS-WARN" fileName="${sys:app.home}/logs/access-warn.log" filePattern="${sys:app.home}/logs/access-warn.log.%d{yyyy-MM-dd}">
			<ThresholdFilter level="WARN"/>
			<PatternLayout pattern="%d%X{username}@%X{remoteAddr} %X{method}%X{url}%X{userAgent}%X{referer}%X{session}%X{request} %m%n" charset="UTF-8"/>
			<TimeBasedTriggeringPolicy />
		</RollingRandomAccessFile>
	</Appenders>
	
	<Loggers>
		<Logger name="org.springframework.core.io.support.PathMatchingResourcePatternResolver" level="ERROR"/>
		<Logger name="org.springframework.core.type.classreading.AnnotationAttributesReadingVisitor" level="ERROR"/>
		<Logger name="org.springframework.security" level="WARN"/>
		<Logger name="org.hibernate.tool.hbm2ddl.TableMetadata" level="WARN"/>
		<Logger name="org.apache.struts2.config.AbstractBeanSelectionProvider" level="WARN"/>
		<Logger name="org.apache.struts2.components.ServletUrlRenderer" level="ERROR"/>
		<Logger name="com.opensymphony.xwork2.ognl.OgnlValueStack" level="ERROR"/>
		<Logger name="com.opensymphony.xwork2.config.providers.XmlConfigurationProvider" level="ERROR"/>
		<Logger name="org.hibernate.SQL" level="${sys:hibernate.logger.level}" additivity="false">
			<AppenderRef ref="HIBERNATE"/>
		</Logger>
		<Logger name="org.hibernate.type.descriptor.sql.BasicBinder" level="${sys:hibernate.logger.level}" additivity="false">
			<AppenderRef ref="HIBERNATE"/>
		</Logger>
		<Logger name="org.ironrhino.core.remoting" level="INFO" additivity="false">
			<AppenderRef ref="REMOTING"/>
		</Logger>
		<Logger name="rest" level="INFO" additivity="false">
			<AppenderRef ref="REST"/>
		</Logger>
		<Logger name="access" level="INFO" additivity="false">
			<AppenderRef ref="ACCESS"/>
		</Logger>
		<Logger name="access-warn" level="WARN" additivity="false">
			<AppenderRef ref="ACCESS-WARN"/>
		</Logger>
		<Root level="INFO">
			<AppenderRef ref="CONSOLE"/>
			<AppenderRef ref="APPLICATION"/>
			<AppenderRef ref="ERROR"/>
		</Root>
	</Loggers>
	
</Configuration>
